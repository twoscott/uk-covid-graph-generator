<html>
<head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load("current", { packages: [ "corechart" ] });
        google.charts.setOnLoadCallback(drawGraph);
    
        function drawGraph() {
            let table = new google.visualization.arrayToDataTable([ {columnTitles} ]);
            table.addRows({rows}.map(row => {
                row[0] = new Date(row[0]);
                return row;
            }));

            console.log(table.toJSON()) //
            const options = {
                title:"UK COVID-19 {countType} {dataType}",
                width: {width},
                height: {height},
                lineWidth: {lineWidth},
                pointShape: "{pointShape}",
                pointSize: {pointSize},
                hAxis: {
                    title: "Date",
                    format: "MMM d, y",
                    gridlines: { count: {gridlines} }
                },
                vAxis: {
                    title: "{dataType}"
                },
                trendlines: { {trendlines} },
                theme: "{maximised}"
            };
            
            let graph = new google.visualization.LineChart(document.getElementById("graph"));
            graph.draw(table, options);
        }
    </script>
    <style> * { margin: 0px; } </style>
</head>
<body>
    <div id="graph" style="width: {width}px; height: {height}px;"></div>
</body>
</html>
